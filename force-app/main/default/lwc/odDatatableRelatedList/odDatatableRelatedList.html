<template>
  <c-od-datatable-error error-message={errorMessage}></c-od-datatable-error>
  <c-od-datatable-spinner text="Loading" show={isLoading}></c-od-datatable-spinner>
  <template lwc:if={data}>
    <c-od-datatable
      unique-table-name={configuration.uniqueTableName.value}
      object-name={configuration.objectName.value}
      table-data={data}
      columns={configuration.columns.value}
      no-records-message={configuration.noRecordsMessage.value}
      show-row-number-column={configuration.showRowNumberColumn.value}
      is-master-detail="Yes"
      master-detail-configuration={masterDetailConfiguration}
      master-detail-field1={recordId}
      can-add={configuration.canAdd.value}
      add-label={configuration.addLabel.value}
      add-type={configuration.addType.value}
      add-flow-name={configuration.addFlowName.value}
      add-flow-input-variables={configuration.addFlowInputVariables.value}
      can-edit={configuration.canEdit.value}
      edit-type={configuration.editType.value}
      edit-label={configuration.editLabel.value}
      edit-flow-name={configuration.editFlowName.value}
      edit-flow-input-variables={configuration.editFlowInputVariables.value}
      can-delete={configuration.canDelete.value}
      can-bulk-delete={configuration.canBulkDelete.value}
      bulk-delete-label={configuration.bulkDeleteLabel.value}
      can-bulk-edit={configuration.canBulkEdit.value}
      bulk-edit-label={configuration.bulkEditLabel.value}
      can-select={configuration.canSelect.value}
      selection-type={configuration.selectionType.value}
      inline-save={configuration.inlineSave.value}
      save-label={configuration.saveLabel.value}
      listen-to-platform-event={configuration.listenToPlatformEvent.value}
      platform-event-matching-field-name={configuration.platformEventMatchingFieldName.value}
      platform-event-matching-id={configuration.platformEventMatchingId.value}
      pagination={configuration.pagination.value}
      pagination-alignment={configuration.paginationAlignment.value}
      page-size={configuration.pageSize.value}
      pagination-show-options={configuration.paginationShowOptions.value}
      grouping={configuration.grouping.value}
      grouping-field={configuration.groupingField.value}
      group-sort-field={configuration.groupSortField.value}
      group-sort-direction={configuration.groupSortDirection.value}
      group-content-sort-field={configuration.groupContentSortField.value}
      group-content-sort-direction={configuration.groupContentSortDirection.value}
      grouping-source={configuration.groupingSource.value}
      grouping-source-field-data={configuration.groupingSourceFieldData.value}
      show-empty-groups={configuration.showEmptyGroups.value}
      can-collapse-groups={configuration.canCollapseGroups.value}
      show-totals-by-group={configuration.showTotalsByGroup.value}
      recalculate-live={configuration.recalculateLive.value}
      can-export={configuration.canExport.value}
      onaftersave={handleAfterSave}
      export-groups={configuration.exportGroups.value}
      export-file-name={configuration.exportFileName.value}
      sharing-context={configuration.sharingContext.value}
    >
    </c-od-datatable>
  </template>
</template>
